#tag WindowBegin Window WinMain   BackColor       =   9605778   Backdrop        =   ""   CloseButton     =   True   Composite       =   True   Frame           =   0   FullScreen      =   False   HasBackColor    =   True   Height          =   647   ImplicitInstance=   True   LiveResize      =   True   MacProcID       =   0   MaxHeight       =   32000   MaximizeButton  =   False   MaxWidth        =   32000   MenuBar         =   1206189548   MenuBarVisible  =   True   MinHeight       =   64   MinimizeButton  =   True   MinWidth        =   64   Placement       =   0   Resizeable      =   True   Title           =   "Demo"   Visible         =   True   Width           =   362   Begin MainToolbar MyToolbar      Enabled         =   True      Height          =   32      Index           =   -2147483648      InitialParent   =   ""      Left            =   412      LockedInPosition=   False      Scope           =   0      TabIndex        =   0      TabPanelIndex   =   0      TabStop         =   True      Top             =   31      Visible         =   True      Width           =   100   End   Begin FGSourceList SourceList      AutoDeactivate  =   ""      AutoHideScrollbars=   ""      Bold            =   ""      Border          =   ""      ColumnCount     =   0      ColumnsResizable=   ""      DefaultRowHeight=   0      Enabled         =   True      EnableDrag      =   True      EnableDragReorder=   True      ErrorCode       =   0      GridLinesHorizontal=   0      GridLinesVertical=   0      HasHeading      =   ""      HeadingIndex    =   0      Height          =   647      Hierarchical    =   ""      Index           =   -2147483648      InitialParent   =   ""      Italic          =   ""      LastItemIndex   =   0      Left            =   83      LockBottom      =   True      LockedInPosition=   False      LockLeft        =   True      LockRight       =   True      LockTop         =   True      RequiresSelection=   ""      Scope           =   0      ScrollbarHorizontal=   ""      ScrollBarVertical=   ""      SelectionType   =   0      Style           =   0      TabIndex        =   0      TabPanelIndex   =   0      TabStop         =   ""      TextFont        =   "System"      TextSize        =   0      Top             =   0      Underline       =   ""      UseFocusRing    =   ""      Visible         =   True      Width           =   196      _ScrollOffset   =   0      _ScrollWidth    =   0   EndEnd#tag EndWindow#tag WindowCode	#tag Event		Sub Open()		  // Title		  me.Title = "FGSourceList " +  Str(SourceList.Version) + " Demo"		  		  // Show a source list on first launch		  FinderSourceList()		  		End Sub	#tag EndEvent	#tag Method, Flags = &h0		Sub AddFinderDevicesSection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "DEVICES", true, true ) ' collapsible and drag re-orderable		  		  // iDisk		  item = new FGSourceListItem		  item.Name = "iDisk"		  item.Icon = idisk		  item.ShowBadge = false		  item.EjectButton = true		  sourceList.AppendItem( item, "DEVICES" )		  		  // Macintosh HD		  item = new FGSourceListItem		  item.Name = "Macintosh HD"		  item.Icon = hdd		  item.ShowBadge = false		  sourceList.AppendItem( item, "DEVICES")		  		  // Audio CD		  item = new FGSourceListItem		  item.Name = "An Audio CD"		  item.Icon = cd		  sourceList.AppendItem( item, "DEVICES" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddFinderPlaces()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "PLACES", true, true ) ' collapsible and drag re-orderable		  		  // Desktop		  item = new FGSourceListItem		  item.Name = "Desktop"		  item.Icon = desktop		  sourceList.AppendItem( item, "PLACES" )		  		  // Garry		  item = new FGSourceListItem		  item.Name = "Garry"		  item.Icon = home		  sourceList.AppendItem( item, "PLACES")		  		  // Applications		  item = new FGSourceListItem		  item.Name = "Applications"		  item.Icon = applications		  sourceList.AppendItem( item, "PLACES")		  		  // Documents		  item = new FGSourceListItem		  item.Name = "Documents"		  item.Icon = documents		  sourceList.AppendItem( item, "PLACES")		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies_finder		  sourceList.AppendItem( item, "PLACES")		  		  // Untitled DVD		  item = new FGSourceListItem		  item.Name = "Untitled DVD"		  item.Icon = cd		  item.Button = true		  item.ButtonImage = burn		  item.ButtonHoverImage = burn_hover		  sourceList.AppendItem( item, "PLACES" )		  		  // Downloads		  item = new FGSourceListItem		  item.Name = "Downloads"		  item.Icon = downloads		  sourceList.AppendItem( item, "PLACES")		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddFinderSharedSection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "SHARED", true ) ' collapsible only		  		  // Bart		  item = new FGSourceListItem		  item.Name = "Bart"		  item.Icon = mac_mini		  item.EjectButton = true		  sourceList.AppendItem( item, "SHARED" )		  		  // Homer		  item = new FGSourceListItem		  item.Name = "Homer"		  item.Icon = time_Capsule		  sourceList.AppendItem( item, "SHARED")		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddGeniusSection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "GENIUS", true )		  		  // Genius		  item = new FGSourceListItem		  item.Name = "Genius"		  item.Icon = genius		  sourceList.AppendItem( item, "GENIUS" )		  		  // Genius Mixes		  item = new FGSourceListItem		  item.Name = "Genius Mixes"		  item.Icon = genius_mixes		  sourceList.AppendItem( item, "GENIUS" )		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddItunesDevicesSection()		  dim item as FGSourceListItem		  dim iPhone, iPadIndex, collections as integer		  		  // Add the section		  sourceList.AppendSection( "DEVICES", true, true )		  		  // ##### Garry's iPad ##### \\		  item = new FGSourceListItem		  item.Name = "Garry's iPad"		  item.Icon = ipad		  item.ShowBadge = false		  item.EjectButton = true		  item.Button = true		  item.ButtonActive = false		  item.ButtonImage = battery		  item.AllowChildDragReordering = false ' stop top-level re-ordering of the iPad's children but deeper levels can still re-order		  sourceList.AppendItem( item, "DEVICES")		  		  // Remember this item's index		  iPadIndex = sourceList.LastItemIndex		  		  // Music		  item = new FGSourceListItem		  item.Name = "Music"		  item.Icon = music		  sourceList.AppendItem( item, "DEVICES", iPadIndex )		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies		  sourceList.AppendItem( item, "DEVICES", iPadIndex )		  		  // Podcasts		  item = new FGSourceListItem		  item.Name = "Podcasts"		  item.Icon = podcasts		  item.BadgeCount = 1		  sourceList.AppendItem( item, "DEVICES", iPadIndex )		  		  // Collections		  item = new FGSourceListItem		  item.Name = "Collections"		  item.Icon = folder		  item.Expanded = true		  sourceList.AppendItem( item, "DEVICES", iPadIndex )		  		  // Remember this item's index		  collections = sourceList.LastItemIndex		  		  // Item 1		  item = new FGSourceListItem		  item.Name = "Item 1"		  item.Icon = playlist		  item.BadgeCount = 2		  sourceList.AppendItem( item, "DEVICES", iPadIndex, collections )		  		  // Item 2		  item = new FGSourceListItem		  item.Name = "Item 2"		  item.Icon = playlist		  item.BadgeCount = 6		  sourceList.AppendItem( item, "DEVICES", iPadIndex, collections )		  		  // Books		  item = new FGSourceListItem		  item.Name = "Books"		  item.Icon = books		  sourceList.AppendItem( item, "DEVICES", iPadIndex )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddItunesSharedSection()		  dim item as FGSourceListItem		  dim stevesLibrary, playlists as integer		  		  // Add the section		  sourceList.AppendSection( "SHARED", true )		  		  // Steve's Library		  item = new FGSourceListItem		  item.Name = "Steve's Library"		  item.Icon = home_share		  item.ShowBadge = false		  item.EjectButton = true		  sourceList.AppendItem( item, "SHARED" )		  		  // Remember this item's index		  stevesLibrary = sourceList.LastItemIndex		  		  // Music		  item = new FGSourceListItem		  item.Name = "Music"		  item.Icon = music		  sourceList.AppendItem( item, "SHARED", stevesLibrary )		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies		  sourceList.AppendItem( item, "SHARED", stevesLibrary )		  		  // TV Shows		  item = new FGSourceListItem		  item.Name = "TV Shows"		  item.Icon = tv_shows		  sourceList.AppendItem( item, "SHARED", stevesLibrary )		  		  // Playlists		  item = new FGSourceListItem		  item.Name = "Playlists"		  item.Icon = folder		  sourceList.AppendItem( item, "SHARED", stevesLibrary )		  		  // Remember the playlists index		  playlists = sourceList.LastItemIndex		  		  // Recently Added		  item = new FGSourceListItem		  item.Name = "Recently Added"		  item.Icon = smart_playlist		  sourceList.AppendItem( item, "SHARED", stevesLibrary, playlists )		  		  // Favourite Tracks		  item = new FGSourceListItem		  item.Name = "Favourite Tracks"		  item.Icon = playlist		  sourceList.AppendItem( item, "SHARED", stevesLibrary, playlists )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddLibrarySection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection("LIBRARY")		  		  // Music		  item = new FGSourceListItem		  item.Name = "Music"		  item.Icon = music		  sourceList.AppendItem( item, "LIBRARY" )		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies		  sourceList.AppendItem( item, "LIBRARY" )		  		  // TV Shows		  item = new FGSourceListItem		  item.Name = "TV Shows"		  item.Icon = tv_shows		  sourceList.AppendItem( item, "LIBRARY" )		  		  // Podcasts		  item = new FGSourceListItem		  item.Name = "Podcasts"		  item.Icon = podcasts		  item.BadgeCount = 7		  sourceList.AppendItem( item, "LIBRARY" )		  		  // Books		  item = new FGSourceListItem		  item.Name = "Books"		  item.Icon = books		  sourceList.AppendItem( item, "LIBRARY" )		  		  // Radio		  item = new FGSourceListItem		  item.Name = "Radio"		  item.Icon = radio		  sourceList.AppendItem( item, "LIBRARY" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddMailboxes()		  dim item as FGSourceListItem		  dim inboxIndex, sentIndex, trashIndex, junkIndex as integer		  		  // Add the section		  sourceList.AppendSection( "MAILBOXES" )		  		  // ##### Inbox ##### \\		  item = new FGSourceListItem		  item.Name = "Inbox"		  item.Icon = inbox		  sourceList.AppendItem( item, "MAILBOXES" )		  		  // Remember this item's index		  inboxIndex = sourceList.LastItemIndex		  		  // MobileMe		  item = new FGsourceListItem		  item.Name = "MobileMe"		  item.Icon = inbox		  item.BadgeCount = 1		  sourceList.AppendItem( item, "MAILBOXES", inboxIndex )		  		  // Gmail		  item = new FGsourceListItem		  item.Name = "Gmail"		  item.Icon = inbox		  sourceList.AppendItem( item, "MAILBOXES", inboxIndex )		  		  // ##### Sent ##### \\		  item = new FGsourceListItem		  item.Name = "Sent"		  item.Icon = sent		  sourceList.AppendItem( item, "MAILBOXES" )		  		  // Remember this item's index		  sentIndex = sourceList.LastItemIndex		  		  // MobileMe		  item = new FGsourceListItem		  item.Name = "MobileMe"		  item.Icon = sent		  sourceList.AppendItem( item, "MAILBOXES", sentIndex )		  		  // Gmail		  item = new FGsourceListItem		  item.Name = "Gmail"		  item.Icon = sent		  sourceList.AppendItem( item, "MAILBOXES", sentIndex )		  		  // ##### Trash ##### \\		  item = new FGsourceListItem		  item.Name = "Trash"		  item.Icon = trash		  sourceList.AppendItem( item, "MAILBOXES" )		  		  // Remember this item's index		  trashIndex = sourceList.LastItemIndex		  		  // MobileMe		  item = new FGsourceListItem		  item.Name = "MobileMe"		  item.Icon = trash		  sourceList.AppendItem( item, "MAILBOXES", trashIndex )		  		  // Gmail		  item = new FGsourceListItem		  item.Name = "Gmail"		  item.Icon = trash		  sourceList.AppendItem( item, "MAILBOXES", trashIndex )		  		  		  // ##### Junk ##### \\		  item = new FGsourceListItem		  item.Name = "Junk"		  item.Icon = junk		  sourceList.AppendItem( item, "MAILBOXES" )		  		  // Remember this item's index		  junkIndex = sourceList.LastItemIndex		  		  // MobileMe		  item = new FGsourceListItem		  item.Name = "MobileMe"		  item.Icon = junk		  sourceList.AppendItem( item, "MAILBOXES", junkIndex )		  		  // Gmail		  item = new FGsourceListItem		  item.Name = "Gmail"		  item.Icon = junk		  sourceList.AppendItem( item, "MAILBOXES", junkIndex )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddOnMyMac()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "ON MY MAC", true )		  		  // Notes		  item = new FGSourceListItem		  item.Name = "Archive"		  item.Icon = generic_folder		  sourceList.AppendItem( item, "ON MY MAC" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddPlaylistsSection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "PLAYLISTS", true, true ) ' allow drag re-ordering of items in this section		  		  // iTunes DJ		  item = new FGSourceListItem		  item.Name = "iTunes DJ"		  item.Icon = itunes_dj		  sourceList.AppendItem( item, "PLAYLISTS" )		  		  // My Top Rated		  item = new FGSourceListItem		  item.Name = "My Top Rated"		  item.Icon = smart_playlist		  sourceList.AppendItem( item, "PLAYLISTS" )		  		  // Recently added		  item = new FGSourceListItem		  item.Name = "Recently Added"		  item.Icon = smart_playlist		  sourceList.AppendItem( item, "PLAYLISTS" )		  		  // Top 25 most played		  item = new FGSourceListItem		  item.Name = "Top 25 Most Played"		  item.Icon = smart_playlist		  sourceList.AppendItem( item, "PLAYLISTS" )		  		  // Current Favourites		  item = new FGSourceListItem		  item.Name = "Current Favourites"		  item.Icon = playlist		  sourceList.AppendItem( item, "PLAYLISTS" )		  		  // Collapse this section		  sourceList.CollapseSection( "PLAYLISTS" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddReminders()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "REMINDERS", true )		  		  // Notes		  item = new FGSourceListItem		  item.Name = "Notes"		  item.Icon = notes		  sourceList.AppendItem( item, "REMINDERS" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddRSS()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection( "RSS", true )		  		  // Macrumors		  item = new FGSourceListItem		  item.Name = "Macrumors"		  item.Icon = rss		  item.BadgeCount = 15		  sourceList.AppendItem( item, "RSS" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub AddStoreSection()		  dim item as FGSourceListItem		  		  // Add the section		  sourceList.AppendSection("STORE")		  		  // Purchased		  item = new FGSourceListItem		  item.Name = "Purchased"		  item.Icon = playlist		  sourceList.AppendItem( item, "STORE" )		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Function BuildDevicesSection() As FGSourceListItem		  dim section, item, iPhone, iPod, collections as FGSourceListItem		  		  // Create the section		  section = new FGSourceListItem		  section.Name = "DEVICES"		  section.Collapsible = true		  section.ShowBadge = false		  section.Expanded = true		  		  // Steve's iPhone 4		  iPhone = new FGSourceListItem		  iPhone.Name = "Steve's iPhone 4"		  iPhone.Icon = ios_device		  iPhone.ShowBadge = false		  iPhone.EjectButton = true		  iPhone.Level = 1		  section.Children.Append(iPhone)		  		  // Music		  item = new FGSourceListItem		  item.Name = "Music"		  item.Icon = music		  item.Level = 2		  iPhone.Children.Append(item)		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies		  item.Level = 2		  iPhone.Children.Append(item)		  		  // TV Shows		  item = new FGSourceListItem		  item.Name = "TV Shows"		  item.Icon = tv_shows		  item.Level = 2		  iPhone.Children.Append(item)		  		  // Podcasts		  item = new FGSourceListItem		  item.Name = "Podcasts"		  item.Icon = podcasts		  item.BadgeCount = 3		  item.Level = 2		  iPhone.Children.Append(item)		  		  // Books		  item = new FGSourceListItem		  item.Name = "Books"		  item.Icon = books		  item.Level = 2		  iPhone.Children.Append(item)		  		  // Current Favourites		  item = new FGSourceListItem		  item.Name = "Current Favourites"		  item.Icon = playlist		  item.Level = 2		  iPhone.Children.Append(item)		  		  		  		  		  // ##### Garry's iPod Touch ##### \\		  iPod = new FGSourceListItem		  iPod.Name = "Garry's iPod Touch"		  iPod.Icon = ios_device		  iPod.ShowBadge = false		  iPod.Expanded = true		  iPod.EjectButton = true		  iPod.Level = 1		  section.Children.Append(iPod)		  		  // Music		  item = new FGSourceListItem		  item.Name = "Music"		  item.Icon = music		  item.Level = 2		  iPod.Children.Append(item)		  		  // Movies		  item = new FGSourceListItem		  item.Name = "Movies"		  item.Icon = movies		  item.Level = 2		  iPod.Children.Append(item)		  		  // Podcasts		  item = new FGSourceListItem		  item.Name = "Podcasts"		  item.Icon = podcasts		  item.BadgeCount = 1		  item.Level = 2		  iPod.Children.Append(item)		  		  // Collections		  collections = new FGSourceListItem		  collections.Name = "Collections"		  collections.Icon = folder		  collections.Expanded = true		  collections.Level = 2		  iPod.Children.Append(collections)		  		  // Item 1		  item = new FGSourceListItem		  item.Name = "Item 1"		  item.Icon = playlist		  item.BadgeCount = 2		  item.Level = 3		  collections.Children.Append(item)		  		  // Item 2		  item = new FGSourceListItem		  item.Name = "Item 2"		  item.Icon = playlist		  item.BadgeCount = 6		  item.Level = 3		  collections.Children.Append(item)		  		  // Books		  item = new FGSourceListItem		  item.Name = "Books"		  item.Icon = books		  item.Level = 2		  iPod.Children.Append(item)		  		  return section		  		End Function	#tag EndMethod	#tag Method, Flags = &h0		Sub FinderSourceList()		  // Duplicate the Finder's source list		  		  // Set the style		  sourceList.Style = FGSourceList.kStyleFinder		  		  // Devices		  AddFinderDevicesSection()		  		  // Shared		  AddFinderSharedSection()		  		  // Places		  AddFinderPlaces()		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub ItunesSourceList()		  // Duplicate the iTunes source list		  		  // Set the style		  sourceList.Style = FGSourceList.kStyleItunes		  		  // Library		  AddLibrarySection()		  		  // Store		  AddStoreSection()		  		  // Devices		  AddItunesDevicesSection()		  		  // Shared		  AddItunesSharedSection()		  		  // Genius		  AddGeniusSection()		  		  // Playlists		  AddPlaylistsSection()		  		End Sub	#tag EndMethod	#tag Method, Flags = &h0		Sub MailSourceList()		  // Duplicate the iTunes source list		  		  // Set the style		  sourceList.Style = FGSourceList.kStyleMail		  		  // Mailboxes		  AddMailboxes()		  		  // Reminders		  AddReminders()		  		  // RSS		  AddRSS()		  		  // On my Mac		  AddOnMyMac()		  		End Sub	#tag EndMethod#tag EndWindowCode#tag Events MyToolbar	#tag Event		Sub Action(item As ToolItem)		  dim finderButton, mailButton, iTunesButton as ToolButton		  dim a as integer		  		  if item.Name = "Info" then ' show the about window		    		    WinAbout.Show()		    return		    		  end if		  		  // Get a reference to each of the toolbar buttons		  for a = 0 to ( me.Count - 1 )		    		    if me.Item(a).Name = "Finder" then finderButton = Toolbutton(me.Item(a))		    if me.Item(a).Name = "Mail" then mailButton = Toolbutton(me.Item(a))		    if me.Item(a).Name = "iTunes" then iTunesButton = Toolbutton(me.Item(a))		    		  next		  		  // Clear the source list		  sourceList.Clear()		  		  // Handle the button presses		  select case item.Name		    		  case "Finder"		    		    FinderSourceList()		    finderButton.Pushed = true		    mailButton.Pushed = false		    iTunesButton.Pushed = false		    		  case "Mail"		    		    MailSourceList()		    mailButton.Pushed = true		    finderButton.Pushed = false		    iTunesButton.Pushed = false		    		  case "iTunes"		    		    iTunesSourceList()		    iTunesButton.Pushed = true		    finderButton.Pushed = false		    mailButton.Pushed = false		    		  end select		  		End Sub	#tag EndEvent#tag EndEvents#tag Events SourceList	#tag Event		Sub ClickedButton(Item as FGSourceListItem)		  msgBox( "Clicked custom button on " + item.Name )		  		End Sub	#tag EndEvent	#tag Event		Sub ClickedEjectButton(Item as FGSourceListItem)		  msgBox( "Clicked eject button on " + item.Name )		  		End Sub	#tag EndEvent	#tag Event		Sub ContextualClickedItem(Item as FGSourceListItem)		  msgBox( "You contextual-clicked " + item.Name )		  		End Sub	#tag EndEvent	#tag Event		Sub DoubleClickedItem(Item as FGsourceListItem)		  msgBox( "Double-clicked on " + item.Name )		  		End Sub	#tag EndEvent#tag EndEvents